[tox]
envlist = py{38,39,310,311,312,313}-dj{2,3,4,5}

[testenv]
setenv =
    PYTHON_VERSION = {envname[2:5]}
usedevelop = true
commands = pytest

# -------------------------------
# Python 3.8
[testenv:py38-dj2]
deps =
    -rrequirements/requirements-dev-py38.txt
    -rrequirements/requirements-dj2.txt

[testenv:py38-dj3]
deps =
    -rrequirements/requirements-dev-py38.txt
    -rrequirements/requirements-dj3.txt

[testenv:py38-dj4]
deps =
    -rrequirements/requirements-dev-py38.txt
    -rrequirements/requirements-dj4.txt

[testenv:py38-dj5]
deps =
    -rrequirements/requirements-dev-py38.txt
    -rrequirements/requirements-dj5.txt

# -------------------------------
# Python 3.9
[testenv:py39-dj2]
deps =
    -rrequirements/requirements-dev-py39.txt
    -rrequirements/requirements-dj2.txt

[testenv:py39-dj3]
deps =
    -rrequirements/requirements-dev-py39.txt
    -rrequirements/requirements-dj3.txt

[testenv:py39-dj4]
deps =
    -rrequirements/requirements-dev-py39.txt
    -rrequirements/requirements-dj4.txt

[testenv:py39-dj5]
deps =
    -rrequirements/requirements-dev-py39.txt
    -rrequirements/requirements-dj5.txt

# -------------------------------
# Python 3.10
[testenv:py310-dj2]
deps =
    -rrequirements/requirements-dev-py310.txt
    -rrequirements/requirements-dj2.txt

[testenv:py310-dj3]
deps =
    -rrequirements/requirements-dev-py310.txt
    -rrequirements/requirements-dj3.txt

[testenv:py310-dj4]
deps =
    -rrequirements/requirements-dev-py310.txt
    -rrequirements/requirements-dj4.txt

[testenv:py310-dj5]
deps =
    -rrequirements/requirements-dev-py310.txt
    -rrequirements/requirements-dj5.txt

# -------------------------------
# Python 3.11
[testenv:py311-dj2]
deps =
    -rrequirements/requirements-dev-py311.txt
    -rrequirements/requirements-dj2.txt

[testenv:py311-dj3]
deps =
    -rrequirements/requirements-dev-py311.txt
    -rrequirements/requirements-dj3.txt

[testenv:py311-dj4]
deps =
    -rrequirements/requirements-dev-py311.txt
    -rrequirements/requirements-dj4.txt

[testenv:py311-dj5]
deps =
    -rrequirements/requirements-dev-py311.txt
    -rrequirements/requirements-dj5.txt

# -------------------------------
# Python 3.12
[testenv:py312-dj2]
deps =
    -rrequirements/requirements-dev-py312.txt
    -rrequirements/requirements-dj2.txt

[testenv:py312-dj3]
deps =
    -rrequirements/requirements-dev-py312.txt
    -rrequirements/requirements-dj3.txt

[testenv:py312-dj4]
deps =
    -rrequirements/requirements-dev-py312.txt
    -rrequirements/requirements-dj4.txt

[testenv:py312-dj5]
deps =
    -rrequirements/requirements-dev-py312.txt
    -rrequirements/requirements-dj5.txt

# -------------------------------
# Python 3.13
[testenv:py313-dj2]
deps =
    -rrequirements/requirements-dev-py313.txt
    -rrequirements/requirements-dj2.txt

[testenv:py313-dj3]
deps =
    -rrequirements/requirements-dev-py313.txt
    -rrequirements/requirements-dj3.txt

[testenv:py313-dj4]
deps =
    -rrequirements/requirements-dev-py313.txt
    -rrequirements/requirements-dj4.txt

[testenv:py313-dj5]
deps =
    -rrequirements/requirements-dev-py313.txt
    -rrequirements/requirements-dj5.txt


[gh-actions]
python =
    3.8: py38
    3.9: py39
    3.10: py310
    3.11: py311
    3.12: py312
    3.13: py313
